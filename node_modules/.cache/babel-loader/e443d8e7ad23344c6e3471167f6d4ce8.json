{"ast":null,"code":"var _jsxFileName = \"/Users/ste./Documents/Codes/OASIS/src/elements/Map.js\";\nimport React from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport chroma from 'chroma-js';\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3RlNTE5IiwiYSI6ImNrOHc1aHlvYTB0N2ozam51MHFiazE3bmcifQ.AHtFuA-pAqau_AJIy-hzOg'; // let dark = false;\n\nexport default class Application extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: -117.6,\n      lat: 40.7,\n      zoom: 5,\n      dark: window.location.pathname !== \"/\" && window.location.pathname !== \"/dashboard\"\n    };\n  }\n\n  componentDidMount() {\n    // dark = window.location.pathname!==\"/\" && window.location.pathname!==\"/dashboard\"\n    // console.log(dark)\n    var map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/dark-v10',\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom\n    });\n    var stateToFIPS = {\n      \"AK\": \"02\",\n      \"AL\": \"01\",\n      \"AR\": \"05\",\n      \"AS\": \"60\",\n      \"AZ\": \"04\",\n      \"CA\": \"06\",\n      \"CO\": \"08\",\n      \"CT\": \"09\",\n      \"DC\": \"11\",\n      \"DE\": \"10\",\n      \"FL\": \"12\",\n      \"GA\": \"13\",\n      \"GU\": \"66\",\n      \"HI\": \"15\",\n      \"IA\": \"19\",\n      \"ID\": \"16\",\n      \"IL\": \"17\",\n      \"IN\": \"18\",\n      \"KS\": \"20\",\n      \"KY\": \"21\",\n      \"LA\": \"22\",\n      \"MA\": \"25\",\n      \"MD\": \"24\",\n      \"ME\": \"23\",\n      \"MI\": \"26\",\n      \"MN\": \"27\",\n      \"MO\": \"29\",\n      \"MS\": \"28\",\n      \"MT\": \"30\",\n      \"NC\": \"37\",\n      \"ND\": \"38\",\n      \"NE\": \"31\",\n      \"NH\": \"33\",\n      \"NJ\": \"34\",\n      \"NM\": \"35\",\n      \"NV\": \"32\",\n      \"NY\": \"36\",\n      \"OH\": \"39\",\n      \"OK\": \"40\",\n      \"OR\": \"41\",\n      \"PA\": \"42\",\n      \"PR\": \"72\",\n      \"RI\": \"44\",\n      \"SC\": \"45\",\n      \"SD\": \"46\",\n      \"TN\": \"47\",\n      \"TX\": \"48\",\n      \"UT\": \"49\",\n      \"VA\": \"51\",\n      \"VI\": \"78\",\n      \"VT\": \"50\",\n      \"WA\": \"53\",\n      \"WI\": \"55\",\n      \"WV\": \"54\",\n      \"WY\": \"56\"\n    };\n    var data = {};\n    var url = \"https://covidtracking.com/api/states\";\n    fetch(url).then(resp => resp.json()).then(function (dat) {\n      data = dat; // console.log(dat);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    map.on('load', function () {\n      // Add source for state polygons hosted on Mapbox, based on US Census Data:\n      // https://www.census.gov/geo/maps-data/data/cbf/cbf_state.html\n      map.addSource('states', {\n        type: 'vector',\n        url: 'mapbox://mapbox.us_census_states_2015'\n      }); // exclude states outside the 50 states\n\n      var expression = ['match', ['get', 'STATE_ID']]; // var maxValue= data.reduce((max,b) => Math.max(max, b.death), data[0].death);\n\n      var normalizerValue = 5000;\n      data.forEach(function (row) {\n        var stateID = row.state;\n\n        if (stateID in stateToFIPS) {\n          var red = row.death / normalizerValue * 255;\n          var color = 'rgba(' + red + ', ' + 0 + ', ' + 0 + ', 1)';\n          expression.push(stateToFIPS[stateID], color);\n        }\n      }); // Last value is the default, used where there is no data\n\n      expression.push('rgba(0,0,0,0)');\n      var zoomThreshold = 4; // Add layer from the vector tile source with data-driven style\n\n      map.addLayer({\n        'id': 'states-join',\n        'type': 'fill',\n        'source': 'states',\n        'maxzoom': zoomThreshold,\n        'source-layer': 'states',\n        'paint': {\n          'fill-color': expression\n        }\n      } // 'road-label'\n      );\n      /*----------------------------  County Level Data ----------------------------------*/\n      // var countyData ={}\n      // var url =\"http://13.57.220.143/getcounty\";\n      // fetch(url,{ method: 'post'}).then((resp) => resp.json())\n      //   .then(function(data) {\n      //     countyData=data;\n      //     console.log(data);\n      //   })\n      //   .catch(function(error) {\n      //     console.log(error);\n      //   });\n      // TODO: I need help making this URL fetch work\n\n      const countyData = [{\n        \"deaths\": 69,\n        \"county\": \"Alameda\",\n        \"state\": \"California\",\n        \"fips\": \"06001\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 1884\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Alpine\",\n        \"state\": \"California\",\n        \"fips\": \"06003\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 2\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Amador\",\n        \"state\": \"California\",\n        \"fips\": \"06005\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 7\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Butte\",\n        \"state\": \"California\",\n        \"fips\": \"06007\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 19\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Calaveras\",\n        \"state\": \"California\",\n        \"fips\": \"06009\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 13\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Colusa\",\n        \"state\": \"California\",\n        \"fips\": \"06011\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 3\n      }, {\n        \"deaths\": 29,\n        \"county\": \"Contra Costa\",\n        \"state\": \"California\",\n        \"fips\": \"06013\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 985\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Del Norte\",\n        \"state\": \"California\",\n        \"fips\": \"06015\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 3\n      }, {\n        \"deaths\": 0,\n        \"county\": \"El Dorado\",\n        \"state\": \"California\",\n        \"fips\": \"06017\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 54\n      }, {\n        \"deaths\": 9,\n        \"county\": \"Fresno\",\n        \"state\": \"California\",\n        \"fips\": \"06019\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 777\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Glenn\",\n        \"state\": \"California\",\n        \"fips\": \"06021\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 5\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Humboldt\",\n        \"state\": \"California\",\n        \"fips\": \"06023\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 55\n      }, {\n        \"deaths\": 8,\n        \"county\": \"Imperial\",\n        \"state\": \"California\",\n        \"fips\": \"06025\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 419\n      }, {\n        \"deaths\": 1,\n        \"county\": \"Inyo\",\n        \"state\": \"California\",\n        \"fips\": \"06027\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 20\n      }, {\n        \"deaths\": 11,\n        \"county\": \"Kern\",\n        \"state\": \"California\",\n        \"fips\": \"06029\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 1084\n      }, {\n        \"deaths\": 1,\n        \"county\": \"Kings\",\n        \"state\": \"California\",\n        \"fips\": \"06031\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 233\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Lake\",\n        \"state\": \"California\",\n        \"fips\": \"06033\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 8\n      }, {\n        \"deaths\": 1367,\n        \"county\": \"Los Angeles\",\n        \"state\": \"California\",\n        \"fips\": \"06037\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 28644\n      }, {\n        \"deaths\": 2,\n        \"county\": \"Madera\",\n        \"state\": \"California\",\n        \"fips\": \"06039\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 55\n      }, {\n        \"deaths\": 14,\n        \"county\": \"Marin\",\n        \"state\": \"California\",\n        \"fips\": \"06041\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 244\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Mariposa\",\n        \"state\": \"California\",\n        \"fips\": \"06043\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 15\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Mendocino\",\n        \"state\": \"California\",\n        \"fips\": \"06045\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 40\n      }, {\n        \"deaths\": 3,\n        \"county\": \"Merced\",\n        \"state\": \"California\",\n        \"fips\": \"06047\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 152\n      }, {\n        \"deaths\": 1,\n        \"county\": \"Mono\",\n        \"state\": \"California\",\n        \"fips\": \"06051\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 27\n      }, {\n        \"deaths\": 6,\n        \"county\": \"Monterey\",\n        \"state\": \"California\",\n        \"fips\": \"06053\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 240\n      }, {\n        \"deaths\": 2,\n        \"county\": \"Napa\",\n        \"state\": \"California\",\n        \"fips\": \"06055\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 79\n      }, {\n        \"deaths\": 1,\n        \"county\": \"Nevada\",\n        \"state\": \"California\",\n        \"fips\": \"06057\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 41\n      }, {\n        \"deaths\": 65,\n        \"county\": \"Orange\",\n        \"state\": \"California\",\n        \"fips\": \"06059\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 3041\n      }, {\n        \"deaths\": 8,\n        \"county\": \"Placer\",\n        \"state\": \"California\",\n        \"fips\": \"06061\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 163\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Plumas\",\n        \"state\": \"California\",\n        \"fips\": \"06063\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 4\n      }, {\n        \"deaths\": 190,\n        \"county\": \"Riverside\",\n        \"state\": \"California\",\n        \"fips\": \"06065\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 4672\n      }, {\n        \"deaths\": 47,\n        \"county\": \"Sacramento\",\n        \"state\": \"California\",\n        \"fips\": \"06067\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 1132\n      }, {\n        \"deaths\": 2,\n        \"county\": \"San Benito\",\n        \"state\": \"California\",\n        \"fips\": \"06069\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 53\n      }, {\n        \"deaths\": 104,\n        \"county\": \"San Bernardino\",\n        \"state\": \"California\",\n        \"fips\": \"06071\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 2432\n      }, {\n        \"deaths\": 173,\n        \"county\": \"San Diego\",\n        \"state\": \"California\",\n        \"fips\": \"06073\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 4382\n      }, {\n        \"deaths\": 31,\n        \"county\": \"San Francisco\",\n        \"state\": \"California\",\n        \"fips\": \"06075\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 1779\n      }, {\n        \"deaths\": 27,\n        \"county\": \"San Joaquin\",\n        \"state\": \"California\",\n        \"fips\": \"06077\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 579\n      }, {\n        \"deaths\": 1,\n        \"county\": \"San Luis Obispo\",\n        \"state\": \"California\",\n        \"fips\": \"06079\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 208\n      }, {\n        \"deaths\": 56,\n        \"county\": \"San Mateo\",\n        \"state\": \"California\",\n        \"fips\": \"06081\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 1341\n      }, {\n        \"deaths\": 10,\n        \"county\": \"Santa Barbara\",\n        \"state\": \"California\",\n        \"fips\": \"06083\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 613\n      }, {\n        \"deaths\": 122,\n        \"county\": \"Santa Clara\",\n        \"state\": \"California\",\n        \"fips\": \"06085\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 2268\n      }, {\n        \"deaths\": 2,\n        \"county\": \"Santa Cruz\",\n        \"state\": \"California\",\n        \"fips\": \"06087\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 138\n      }, {\n        \"deaths\": 4,\n        \"county\": \"Shasta\",\n        \"state\": \"California\",\n        \"fips\": \"06089\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 31\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Siskiyou\",\n        \"state\": \"California\",\n        \"fips\": \"06093\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 5\n      }, {\n        \"deaths\": 7,\n        \"county\": \"Solano\",\n        \"state\": \"California\",\n        \"fips\": \"06095\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 342\n      }, {\n        \"deaths\": 4,\n        \"county\": \"Sonoma\",\n        \"state\": \"California\",\n        \"fips\": \"06097\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 286\n      }, {\n        \"deaths\": 17,\n        \"county\": \"Stanislaus\",\n        \"state\": \"California\",\n        \"fips\": \"06099\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 461\n      }, {\n        \"deaths\": 2,\n        \"county\": \"Sutter\",\n        \"state\": \"California\",\n        \"fips\": \"06101\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 31\n      }, {\n        \"deaths\": 1,\n        \"county\": \"Tehama\",\n        \"state\": \"California\",\n        \"fips\": \"06103\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 1\n      }, {\n        \"deaths\": 41,\n        \"county\": \"Tulare\",\n        \"state\": \"California\",\n        \"fips\": \"06107\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 916\n      }, {\n        \"deaths\": 0,\n        \"county\": \"Tuolumne\",\n        \"state\": \"California\",\n        \"fips\": \"06109\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 2\n      }, {\n        \"deaths\": 19,\n        \"county\": \"Ventura\",\n        \"state\": \"California\",\n        \"fips\": \"06111\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 608\n      }, {\n        \"deaths\": 20,\n        \"county\": \"Yolo\",\n        \"state\": \"California\",\n        \"fips\": \"06113\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 172\n      }, {\n        \"deaths\": 1,\n        \"county\": \"Yuba\",\n        \"state\": \"California\",\n        \"fips\": \"06115\",\n        \"date\": \"2020-05-06\",\n        \"cases\": 19\n      }];\n      var values = countyData.map(county => county.deaths); //get all the death data points\n\n      var colorScale = chroma.scale(['black', 'red']).padding(0.15).domain(values, \"q\", 5);\n\n      function getColor(val) {\n        return colorScale(val).hex();\n      }\n\n      var colors = {};\n      countyData.forEach(function (county) {\n        var GEOID = county.fips;\n        var value = county.deaths;\n        var color = getColor(value);\n\n        if (!colors[color]) {\n          colors[color] = [];\n        }\n\n        colors[color].push(GEOID);\n      });\n      var colorExpression = [\"match\", [\"get\", \"GEOID\"]];\n      var colorQuantiles = Object.entries(colors).forEach(function ([color, GEOIDs]) {\n        colorExpression.push(GEOIDs, color);\n      });\n      colorExpression.push(\"rgba(0,0,0,0)\");\n      map.addLayer({\n        id: \"counties\",\n        type: \"fill\",\n        minzoom: zoomThreshold,\n        source: {\n          type: \"vector\",\n          tiles: [\"https://gis-server.data.census.gov/arcgis/rest/services/Hosted/VT_2017_050_00_PY_D1/VectorTileServer/tile/{z}/{y}/{x}.pbf\"]\n        },\n        \"source-layer\": \"County\",\n        paint: {\n          \"fill-opacity\": 0.6,\n          \"fill-color\": colorExpression\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"map\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/ste./Documents/Codes/OASIS/src/elements/Map.js"],"names":["React","mapboxgl","chroma","accessToken","Application","Component","constructor","props","state","lng","lat","zoom","dark","window","location","pathname","componentDidMount","map","Map","container","style","center","stateToFIPS","data","url","fetch","then","resp","json","dat","catch","error","console","log","on","addSource","type","expression","normalizerValue","forEach","row","stateID","red","death","color","push","zoomThreshold","addLayer","countyData","values","county","deaths","colorScale","scale","padding","domain","getColor","val","hex","colors","GEOID","fips","value","colorExpression","colorQuantiles","Object","entries","GEOIDs","id","minzoom","source","tiles","paint","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport chroma from 'chroma-js';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3RlNTE5IiwiYSI6ImNrOHc1aHlvYTB0N2ozam51MHFiazE3bmcifQ.AHtFuA-pAqau_AJIy-hzOg';\n// let dark = false;\n\nexport default class Application extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lng: -117.6,\n            lat: 40.7,\n            zoom: 5,\n            dark:window.location.pathname!==\"/\" && window.location.pathname!==\"/dashboard\"\n        };\n        \n    }\n    \n    componentDidMount() {\n      \n        // dark = window.location.pathname!==\"/\" && window.location.pathname!==\"/dashboard\"\n        // console.log(dark)\n\n        var map = new mapboxgl.Map({\n            container: 'map',\n            style: 'mapbox://styles/mapbox/dark-v10',\n            center: [this.state.lng, this.state.lat],\n            zoom: this.state.zoom\n        });\n\n        var stateToFIPS = {\n            \"AK\": \"02\",\n            \"AL\": \"01\",\n            \"AR\": \"05\",\n            \"AS\": \"60\",\n            \"AZ\": \"04\",\n            \"CA\": \"06\",\n            \"CO\": \"08\",\n            \"CT\": \"09\",\n            \"DC\": \"11\",\n            \"DE\": \"10\",\n            \"FL\": \"12\",\n            \"GA\": \"13\",\n            \"GU\": \"66\",\n            \"HI\": \"15\",\n            \"IA\": \"19\",\n            \"ID\": \"16\",\n            \"IL\": \"17\",\n            \"IN\": \"18\",\n            \"KS\": \"20\",\n            \"KY\": \"21\",\n            \"LA\": \"22\",\n            \"MA\": \"25\",\n            \"MD\": \"24\",\n            \"ME\": \"23\",\n            \"MI\": \"26\",\n            \"MN\": \"27\",\n            \"MO\": \"29\",\n            \"MS\": \"28\",\n            \"MT\": \"30\",\n            \"NC\": \"37\",\n            \"ND\": \"38\",\n            \"NE\": \"31\",\n            \"NH\": \"33\",\n            \"NJ\": \"34\",\n            \"NM\": \"35\",\n            \"NV\": \"32\",\n            \"NY\": \"36\",\n            \"OH\": \"39\",\n            \"OK\": \"40\",\n            \"OR\": \"41\",\n            \"PA\": \"42\",\n            \"PR\": \"72\",\n            \"RI\": \"44\",\n            \"SC\": \"45\",\n            \"SD\": \"46\",\n            \"TN\": \"47\",\n            \"TX\": \"48\",\n            \"UT\": \"49\",\n            \"VA\": \"51\",\n            \"VI\": \"78\",\n            \"VT\": \"50\",\n            \"WA\": \"53\",\n            \"WI\": \"55\",\n            \"WV\": \"54\",\n            \"WY\": \"56\"\n        }\n\n        var data = {}\n        var url = \"https://covidtracking.com/api/states\";\n        fetch(url).then((resp) => resp.json())\n            .then(function (dat) {\n                data = dat;\n                // console.log(dat);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\n\n        map.on('load', function () {\n            // Add source for state polygons hosted on Mapbox, based on US Census Data:\n            // https://www.census.gov/geo/maps-data/data/cbf/cbf_state.html\n            map.addSource('states', {\n                type: 'vector',\n                url: 'mapbox://mapbox.us_census_states_2015'\n            });\n\n\n            // exclude states outside the 50 states\n            var expression = ['match', ['get', 'STATE_ID']];\n            // var maxValue= data.reduce((max,b) => Math.max(max, b.death), data[0].death);\n            var normalizerValue = 5000;\n            data.forEach(function (row) {\n                var stateID = row.state;\n                if (stateID in stateToFIPS) {\n                    var red = (row.death / normalizerValue) * 255;\n                    var color = 'rgba(' + red + ', ' + 0 + ', ' + 0 + ', 1)';\n                    expression.push(stateToFIPS[stateID], color);\n                }\n            });\n\n\n            // Last value is the default, used where there is no data\n            expression.push('rgba(0,0,0,0)');\n\n            var zoomThreshold = 4;\n            // Add layer from the vector tile source with data-driven style\n            map.addLayer(\n                {\n                    'id': 'states-join',\n                    'type': 'fill',\n                    'source': 'states',\n                    'maxzoom': zoomThreshold,\n                    'source-layer': 'states',\n                    'paint': {\n                        'fill-color': expression\n                    }\n                },\n                // 'road-label'\n            );\n\n            /*----------------------------  County Level Data ----------------------------------*/\n\n            // var countyData ={}\n            // var url =\"http://13.57.220.143/getcounty\";\n            // fetch(url,{ method: 'post'}).then((resp) => resp.json())\n            //   .then(function(data) {\n            //     countyData=data;\n            //     console.log(data);\n            //   })\n            //   .catch(function(error) {\n            //     console.log(error);\n            //   });\n            // TODO: I need help making this URL fetch work\n\n            const countyData = [{ \"deaths\": 69, \"county\": \"Alameda\", \"state\": \"California\", \"fips\": \"06001\", \"date\": \"2020-05-06\", \"cases\": 1884 }, { \"deaths\": 0, \"county\": \"Alpine\", \"state\": \"California\", \"fips\": \"06003\", \"date\": \"2020-05-06\", \"cases\": 2 }, { \"deaths\": 0, \"county\": \"Amador\", \"state\": \"California\", \"fips\": \"06005\", \"date\": \"2020-05-06\", \"cases\": 7 }, { \"deaths\": 0, \"county\": \"Butte\", \"state\": \"California\", \"fips\": \"06007\", \"date\": \"2020-05-06\", \"cases\": 19 }, { \"deaths\": 0, \"county\": \"Calaveras\", \"state\": \"California\", \"fips\": \"06009\", \"date\": \"2020-05-06\", \"cases\": 13 }, { \"deaths\": 0, \"county\": \"Colusa\", \"state\": \"California\", \"fips\": \"06011\", \"date\": \"2020-05-06\", \"cases\": 3 }, { \"deaths\": 29, \"county\": \"Contra Costa\", \"state\": \"California\", \"fips\": \"06013\", \"date\": \"2020-05-06\", \"cases\": 985 }, { \"deaths\": 0, \"county\": \"Del Norte\", \"state\": \"California\", \"fips\": \"06015\", \"date\": \"2020-05-06\", \"cases\": 3 }, { \"deaths\": 0, \"county\": \"El Dorado\", \"state\": \"California\", \"fips\": \"06017\", \"date\": \"2020-05-06\", \"cases\": 54 }, { \"deaths\": 9, \"county\": \"Fresno\", \"state\": \"California\", \"fips\": \"06019\", \"date\": \"2020-05-06\", \"cases\": 777 }, { \"deaths\": 0, \"county\": \"Glenn\", \"state\": \"California\", \"fips\": \"06021\", \"date\": \"2020-05-06\", \"cases\": 5 }, { \"deaths\": 0, \"county\": \"Humboldt\", \"state\": \"California\", \"fips\": \"06023\", \"date\": \"2020-05-06\", \"cases\": 55 }, { \"deaths\": 8, \"county\": \"Imperial\", \"state\": \"California\", \"fips\": \"06025\", \"date\": \"2020-05-06\", \"cases\": 419 }, { \"deaths\": 1, \"county\": \"Inyo\", \"state\": \"California\", \"fips\": \"06027\", \"date\": \"2020-05-06\", \"cases\": 20 }, { \"deaths\": 11, \"county\": \"Kern\", \"state\": \"California\", \"fips\": \"06029\", \"date\": \"2020-05-06\", \"cases\": 1084 }, { \"deaths\": 1, \"county\": \"Kings\", \"state\": \"California\", \"fips\": \"06031\", \"date\": \"2020-05-06\", \"cases\": 233 }, { \"deaths\": 0, \"county\": \"Lake\", \"state\": \"California\", \"fips\": \"06033\", \"date\": \"2020-05-06\", \"cases\": 8 }, { \"deaths\": 1367, \"county\": \"Los Angeles\", \"state\": \"California\", \"fips\": \"06037\", \"date\": \"2020-05-06\", \"cases\": 28644 }, { \"deaths\": 2, \"county\": \"Madera\", \"state\": \"California\", \"fips\": \"06039\", \"date\": \"2020-05-06\", \"cases\": 55 }, { \"deaths\": 14, \"county\": \"Marin\", \"state\": \"California\", \"fips\": \"06041\", \"date\": \"2020-05-06\", \"cases\": 244 }, { \"deaths\": 0, \"county\": \"Mariposa\", \"state\": \"California\", \"fips\": \"06043\", \"date\": \"2020-05-06\", \"cases\": 15 }, { \"deaths\": 0, \"county\": \"Mendocino\", \"state\": \"California\", \"fips\": \"06045\", \"date\": \"2020-05-06\", \"cases\": 40 }, { \"deaths\": 3, \"county\": \"Merced\", \"state\": \"California\", \"fips\": \"06047\", \"date\": \"2020-05-06\", \"cases\": 152 }, { \"deaths\": 1, \"county\": \"Mono\", \"state\": \"California\", \"fips\": \"06051\", \"date\": \"2020-05-06\", \"cases\": 27 }, { \"deaths\": 6, \"county\": \"Monterey\", \"state\": \"California\", \"fips\": \"06053\", \"date\": \"2020-05-06\", \"cases\": 240 }, { \"deaths\": 2, \"county\": \"Napa\", \"state\": \"California\", \"fips\": \"06055\", \"date\": \"2020-05-06\", \"cases\": 79 }, { \"deaths\": 1, \"county\": \"Nevada\", \"state\": \"California\", \"fips\": \"06057\", \"date\": \"2020-05-06\", \"cases\": 41 }, { \"deaths\": 65, \"county\": \"Orange\", \"state\": \"California\", \"fips\": \"06059\", \"date\": \"2020-05-06\", \"cases\": 3041 }, { \"deaths\": 8, \"county\": \"Placer\", \"state\": \"California\", \"fips\": \"06061\", \"date\": \"2020-05-06\", \"cases\": 163 }, { \"deaths\": 0, \"county\": \"Plumas\", \"state\": \"California\", \"fips\": \"06063\", \"date\": \"2020-05-06\", \"cases\": 4 }, { \"deaths\": 190, \"county\": \"Riverside\", \"state\": \"California\", \"fips\": \"06065\", \"date\": \"2020-05-06\", \"cases\": 4672 }, { \"deaths\": 47, \"county\": \"Sacramento\", \"state\": \"California\", \"fips\": \"06067\", \"date\": \"2020-05-06\", \"cases\": 1132 }, { \"deaths\": 2, \"county\": \"San Benito\", \"state\": \"California\", \"fips\": \"06069\", \"date\": \"2020-05-06\", \"cases\": 53 }, { \"deaths\": 104, \"county\": \"San Bernardino\", \"state\": \"California\", \"fips\": \"06071\", \"date\": \"2020-05-06\", \"cases\": 2432 }, { \"deaths\": 173, \"county\": \"San Diego\", \"state\": \"California\", \"fips\": \"06073\", \"date\": \"2020-05-06\", \"cases\": 4382 }, { \"deaths\": 31, \"county\": \"San Francisco\", \"state\": \"California\", \"fips\": \"06075\", \"date\": \"2020-05-06\", \"cases\": 1779 }, { \"deaths\": 27, \"county\": \"San Joaquin\", \"state\": \"California\", \"fips\": \"06077\", \"date\": \"2020-05-06\", \"cases\": 579 }, { \"deaths\": 1, \"county\": \"San Luis Obispo\", \"state\": \"California\", \"fips\": \"06079\", \"date\": \"2020-05-06\", \"cases\": 208 }, { \"deaths\": 56, \"county\": \"San Mateo\", \"state\": \"California\", \"fips\": \"06081\", \"date\": \"2020-05-06\", \"cases\": 1341 }, { \"deaths\": 10, \"county\": \"Santa Barbara\", \"state\": \"California\", \"fips\": \"06083\", \"date\": \"2020-05-06\", \"cases\": 613 }, { \"deaths\": 122, \"county\": \"Santa Clara\", \"state\": \"California\", \"fips\": \"06085\", \"date\": \"2020-05-06\", \"cases\": 2268 }, { \"deaths\": 2, \"county\": \"Santa Cruz\", \"state\": \"California\", \"fips\": \"06087\", \"date\": \"2020-05-06\", \"cases\": 138 }, { \"deaths\": 4, \"county\": \"Shasta\", \"state\": \"California\", \"fips\": \"06089\", \"date\": \"2020-05-06\", \"cases\": 31 }, { \"deaths\": 0, \"county\": \"Siskiyou\", \"state\": \"California\", \"fips\": \"06093\", \"date\": \"2020-05-06\", \"cases\": 5 }, { \"deaths\": 7, \"county\": \"Solano\", \"state\": \"California\", \"fips\": \"06095\", \"date\": \"2020-05-06\", \"cases\": 342 }, { \"deaths\": 4, \"county\": \"Sonoma\", \"state\": \"California\", \"fips\": \"06097\", \"date\": \"2020-05-06\", \"cases\": 286 }, { \"deaths\": 17, \"county\": \"Stanislaus\", \"state\": \"California\", \"fips\": \"06099\", \"date\": \"2020-05-06\", \"cases\": 461 }, { \"deaths\": 2, \"county\": \"Sutter\", \"state\": \"California\", \"fips\": \"06101\", \"date\": \"2020-05-06\", \"cases\": 31 }, { \"deaths\": 1, \"county\": \"Tehama\", \"state\": \"California\", \"fips\": \"06103\", \"date\": \"2020-05-06\", \"cases\": 1 }, { \"deaths\": 41, \"county\": \"Tulare\", \"state\": \"California\", \"fips\": \"06107\", \"date\": \"2020-05-06\", \"cases\": 916 }, { \"deaths\": 0, \"county\": \"Tuolumne\", \"state\": \"California\", \"fips\": \"06109\", \"date\": \"2020-05-06\", \"cases\": 2 }, { \"deaths\": 19, \"county\": \"Ventura\", \"state\": \"California\", \"fips\": \"06111\", \"date\": \"2020-05-06\", \"cases\": 608 }, { \"deaths\": 20, \"county\": \"Yolo\", \"state\": \"California\", \"fips\": \"06113\", \"date\": \"2020-05-06\", \"cases\": 172 }, { \"deaths\": 1, \"county\": \"Yuba\", \"state\": \"California\", \"fips\": \"06115\", \"date\": \"2020-05-06\", \"cases\": 19 }];\n\n            var values = countyData.map(county => county.deaths); //get all the death data points\n\n            var colorScale = chroma\n                .scale(['black', 'red'])\n                .padding(0.15)\n                .domain(values, \"q\", 5);\n\n            function getColor(val) {\n                return colorScale(val).hex();\n            }\n\n            var colors = {};\n\n            countyData.forEach(function (county) {\n                var GEOID = county.fips;\n                var value = county.deaths;\n                var color = getColor(value);\n                if (!colors[color]) {\n                    colors[color] = [];\n                }\n                colors[color].push(GEOID);\n            });\n\n            var colorExpression = [\"match\", [\"get\", \"GEOID\"]];\n            var colorQuantiles = Object.entries(colors).forEach(function ([color, GEOIDs]) {\n                colorExpression.push(GEOIDs, color);\n            });\n\n            colorExpression.push(\"rgba(0,0,0,0)\");\n\n            map.addLayer({\n                id: \"counties\",\n                type: \"fill\",\n                minzoom: zoomThreshold,\n                source: {\n                    type: \"vector\",\n                    tiles: [\n                        \"https://gis-server.data.census.gov/arcgis/rest/services/Hosted/VT_2017_050_00_PY_D1/VectorTileServer/tile/{z}/{y}/{x}.pbf\"\n                    ]\n                },\n                \"source-layer\": \"County\",\n                paint: {\n                    \"fill-opacity\": 0.6,\n                    \"fill-color\": colorExpression\n                }\n            });\n\n        });\n    }\n    render() {\n        return (\n            <div>\n                  {/* <div className=\"dark mask\"></div> */}\n                <div id=\"map\"></div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}