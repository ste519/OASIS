{"ast":null,"code":"import _defineProperty from\"/Users/ste./Documents/Codes/OASIS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ste./Documents/Codes/OASIS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ste./Documents/Codes/OASIS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{TextField,MenuItem}from'@material-ui/core';import{withStyles}from'@material-ui/core/styles';import{Fab}from'@material-ui/core';import AddIcon from'@material-ui/icons/Add';import ArrowRightIcon from'@material-ui/icons/ArrowRight';import ArrowLeftIcon from'@material-ui/icons/ArrowLeft';import{DatePicker}from\"@material-ui/pickers\";import Pop from'../elements/Pop';import Text from'../text.json';import ErrorOutlineIcon from'@material-ui/icons/ErrorOutline';var contactText=Text[\"Close Contacts\"].texts;var contactListIndex=Text[\"Close Contacts\"].listIndex;var contactLinkIndex=Text[\"Close Contacts\"].linkIndex;var travelText=Text[\"Recent Travel\"].texts;var travelListIndex=Text[\"Recent Travel\"].listIndex;var travelLinkIndex=Text[\"Recent Travel\"].linkIndex;var professions=Text[\"Profession\"];var ethnicities=[{value:'White',label:'White'},{value:'American Indian or Alaska Native',label:'American Indian or Alaska Native'},{value:'Asian',label:'Asian'},{value:'Black or African American',label:'Black or African American'},{value:'Hispanic or Latino',label:'Hispanic or Latino'},{value:'Native Hawaiian or Other Pacific Islander',label:'Native Hawaiian or Other Pacific Islander'}];var styles=function styles(theme){return{root:{'& .MuiTextField-root':{margin:theme.spacing(1),width:'25ch'},textAlign:'left',width:'90vw',display:'flex',flexDirection:'column',overflow:'auto',height:'max-content',maxHeight:'69%'},input:{color:'white','&:before':{borderBottom:'1px solid white'}},label:{color:'white',width:'max-content'}};};function CriticalQuestions(props){var classes=props.classes;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),sex=_useState2[0],setSex=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),ethnicity=_useState4[0],setEthnicity=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),origin=_useState6[0],setOrigin=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),profession=_useState8[0],setProfession=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),selectedDate=_useState10[0],handleDateChange=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedEndDate=_useState12[0],handleEndDateChange=_useState12[1];var _useState13=useState({0:null}),_useState14=_slicedToArray(_useState13,2),travelDates=_useState14[0],setTravelDates=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),travelDatesIndex=_useState16[0],setTravelDatesIndex=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),contactCount=_useState18[0],setContactCount=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),locationCount=_useState20[0],setLocationCount=_useState20[1];var handleSexChange=function handleSexChange(event){setSex(event.target.value);};var handleEthnicityChange=function handleEthnicityChange(event){setEthnicity(event.target.value);};var handleOriginChange=function handleOriginChange(event){setOrigin(event.target.value);};var handleProfessionChange=function handleProfessionChange(event){setProfession(event.target.value);};function handleTravelDateChange(date){console.log(travelDatesIndex);setTravelDates(_objectSpread({},travelDates,_defineProperty({},travelDatesIndex,date)));console.log(travelDates);};var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isLoaded=_React$useState4[0],setIsLoaded=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),countries=_React$useState6[0],setCountries=_React$useState6[1];var recovered=localStorage.isSick===\"not sick\"&&localStorage.tested===\"positive\";var endPicker=/*#__PURE__*/React.createElement(DatePicker,{autoOk:true,label:\"When did your illness resolve?\",clearable:true,disableFuture:true,value:selectedEndDate,onChange:handleEndDateChange,InputProps:{className:classes.input},InputLabelProps:{className:classes.label}});React.useEffect(function(){fetch(\"https://restcountries.eu/rest/v2/all?fields=name\").then(function(res){return res.json();}).then(function(result){setIsLoaded(true);setCountries(result);},function(error){setIsLoaded(true);setError(error);});},[]);var contacts=[];for(var i=0;i<contactCount;i++){contacts.push(/*#__PURE__*/React.createElement(\"div\",{key:i},/*#__PURE__*/React.createElement(TextField,{label:\"Email\",InputProps:{className:classes.input},InputLabelProps:{className:classes.label}}),/*#__PURE__*/React.createElement(TextField,{label:\"Phone Number\",InputProps:{className:classes.input},InputLabelProps:{className:classes.label}})));}var locations=[];var _loop=function _loop(_i){locations.push(/*#__PURE__*/React.createElement(\"div\",{key:_i},/*#__PURE__*/React.createElement(TextField,{label:\"Location\",InputProps:{className:classes.input},InputLabelProps:{className:classes.label}}),/*#__PURE__*/React.createElement(DatePicker// autoOk\n,{label:\"Date\",key:_i,id:\"hi-\".concat(_i),clearable:true,disableFuture:true,value:travelDates[_i],onOpen:function onOpen(){return setTravelDatesIndex(_i);},onChange:function onChange(date){return handleTravelDateChange(date);},InputProps:{className:classes.input},InputLabelProps:{className:classes.label}})));};for(var _i=0;_i<locationCount;_i++){_loop(_i);}var pageBottomRef=React.useRef(null);var scrollToBottom=function scrollToBottom(){pageBottomRef.current.scrollIntoView({behavior:\"smooth\"});};React.useEffect(scrollToBottom,[locations]);React.useEffect(scrollToBottom,[contacts]);var showDatePicker;var nextPage;if(localStorage.isSick===\"not sick\"){nextPage=\"/dashboard\";if(localStorage.tested===\"not tested\")showDatePicker=\"hidden\";else if(localStorage.tested===\"positive\"){showDatePicker=\"\";nextPage=\"/symptoms\";}else{showDatePicker=\"\";}}else{showDatePicker=\"\";nextPage=\"/symptoms\";}return/*#__PURE__*/React.createElement(\"div\",{className:\"CriticalQuestions\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"title\"},\" MY COVID STORY\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(\"form\",{noValidate:true},/*#__PURE__*/React.createElement(\"div\",{className:showDatePicker},/*#__PURE__*/React.createElement(DatePicker,{autoOk:true,label:\"When did you first start feeling sick?\",clearable:true,disableFuture:true,value:selectedDate,onChange:handleDateChange,InputProps:{className:classes.input},InputLabelProps:{className:classes.label}}),recovered?endPicker:null),/*#__PURE__*/React.createElement(\"div\",{className:\"demographics\"},/*#__PURE__*/React.createElement(TextField,{id:\"standard-number\",label:\"Age\",type:\"number\",InputProps:{className:classes.input},InputLabelProps:{className:classes.label}}),/*#__PURE__*/React.createElement(TextField,{id:\"standard-select-currency\",select:true,label:\"Sex\",value:sex,onChange:handleSexChange,InputProps:{className:classes.input},InputLabelProps:{className:classes.label}},/*#__PURE__*/React.createElement(MenuItem,{value:\"male\"},\"Male\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"female\"},\"Female\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"female\"},\"Non Binary\")),/*#__PURE__*/React.createElement(TextField,{select:true,label:\"Ethnicity\",value:ethnicity,onChange:handleEthnicityChange,InputProps:{className:classes.input},InputLabelProps:{className:classes.label}},ethnicities.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option.value,value:option.value},option.label);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"demographics\"},/*#__PURE__*/React.createElement(TextField,{select:true,label:\"Origin\",value:origin,onChange:handleOriginChange,InputProps:{className:classes.input},InputLabelProps:{className:classes.label}},countries.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option.name,value:option.name},option.name);})),/*#__PURE__*/React.createElement(TextField,{select:true,label:\"Profession\",value:profession,onChange:handleProfessionChange,InputProps:{className:classes.input},InputLabelProps:{className:classes.label}},professions.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{style:{fontSize:13},key:option,value:option},option);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(Fab,{style:{background:\"#EA2027\"},\"aria-label\":\"add\",size:\"medium\",className:\"fab\",onClick:function onClick(){return setContactCount(contactCount+1);}},/*#__PURE__*/React.createElement(AddIcon,null)),/*#__PURE__*/React.createElement(\"p\",null,\"Close Contacts\"),/*#__PURE__*/React.createElement(Pop,{label:/*#__PURE__*/React.createElement(ErrorOutlineIcon,null),title:/*#__PURE__*/React.createElement(\"span\",null),texts:contactText,linkIndex:contactLinkIndex,listIndex:contactListIndex})),contacts,/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(Fab,{style:{background:\"#EA2027\"},\"aria-label\":\"add\",size:\"medium\",className:\"fab\",onClick:function onClick(){return setLocationCount(locationCount+1);}},/*#__PURE__*/React.createElement(AddIcon,null)),/*#__PURE__*/React.createElement(\"p\",null,\"Recent Travels\"),/*#__PURE__*/React.createElement(Pop,{label:/*#__PURE__*/React.createElement(ErrorOutlineIcon,null),title:/*#__PURE__*/React.createElement(\"span\",null),texts:travelText,linkIndex:travelLinkIndex,listIndex:travelListIndex})),locations,/*#__PURE__*/React.createElement(\"div\",{style:{height:'20px'},ref:pageBottomRef}))),/*#__PURE__*/React.createElement(Fab,{style:{background:\"#EA2027\"},\"aria-label\":\"add\",size:\"medium\",className:\"fab next-btn\",onClick:function onClick(){return props.history.push(nextPage);}},/*#__PURE__*/React.createElement(ArrowRightIcon,null)),/*#__PURE__*/React.createElement(Fab,{style:{background:\"#9206FF\"},\"aria-label\":\"add\",size:\"medium\",className:\"fab back-btn\",onClick:function onClick(){return props.history.push('/confirm');}},/*#__PURE__*/React.createElement(ArrowLeftIcon,null)));}export default withStyles(styles)(CriticalQuestions);","map":{"version":3,"sources":["/Users/ste./Documents/Codes/OASIS/src/routes/CriticalQuestions.js"],"names":["React","useState","TextField","MenuItem","withStyles","Fab","AddIcon","ArrowRightIcon","ArrowLeftIcon","DatePicker","Pop","Text","ErrorOutlineIcon","contactText","texts","contactListIndex","listIndex","contactLinkIndex","linkIndex","travelText","travelListIndex","travelLinkIndex","professions","ethnicities","value","label","styles","theme","root","margin","spacing","width","textAlign","display","flexDirection","overflow","height","maxHeight","input","color","borderBottom","CriticalQuestions","props","classes","sex","setSex","ethnicity","setEthnicity","origin","setOrigin","profession","setProfession","selectedDate","handleDateChange","selectedEndDate","handleEndDateChange","travelDates","setTravelDates","travelDatesIndex","setTravelDatesIndex","contactCount","setContactCount","locationCount","setLocationCount","handleSexChange","event","target","handleEthnicityChange","handleOriginChange","handleProfessionChange","handleTravelDateChange","date","console","log","error","setError","isLoaded","setIsLoaded","countries","setCountries","recovered","localStorage","isSick","tested","endPicker","className","useEffect","fetch","then","res","json","result","contacts","i","push","locations","pageBottomRef","useRef","scrollToBottom","current","scrollIntoView","behavior","showDatePicker","nextPage","map","option","name","fontSize","background","history"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { TextField, MenuItem } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Fab } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\nimport { DatePicker } from \"@material-ui/pickers\";\nimport Pop from '../elements/Pop';\nimport Text from '../text.json';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\n\nconst contactText = Text[\"Close Contacts\"].texts\nconst contactListIndex = Text[\"Close Contacts\"].listIndex\nconst contactLinkIndex = Text[\"Close Contacts\"].linkIndex\nconst travelText = Text[\"Recent Travel\"].texts\nconst travelListIndex = Text[\"Recent Travel\"].listIndex\nconst travelLinkIndex = Text[\"Recent Travel\"].linkIndex\nconst professions = Text[\"Profession\"]\n\nconst ethnicities = [\n    { value: 'White', label: 'White' },\n    { value: 'American Indian or Alaska Native', label: 'American Indian or Alaska Native' },\n    { value: 'Asian', label: 'Asian' },\n    { value: 'Black or African American', label: 'Black or African American' },\n    { value: 'Hispanic or Latino', label: 'Hispanic or Latino' },\n    { value: 'Native Hawaiian or Other Pacific Islander', label: 'Native Hawaiian or Other Pacific Islander' },\n]\nconst styles = theme => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        },\n        textAlign: 'left',\n        width: '90vw',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'auto',\n        height: 'max-content',\n        maxHeight: '69%'\n    },\n    input: {\n        color: 'white',\n        '&:before': {\n            borderBottom: '1px solid white',\n        },\n\n    },\n    label: {\n        color: 'white',\n        width: 'max-content'\n    },\n});\n\nfunction CriticalQuestions(props) {\n    const { classes } = props;\n    const [sex, setSex] = useState('');\n    const [ethnicity, setEthnicity] = useState('');\n    const [origin, setOrigin] = useState('');\n    const [profession, setProfession] = useState('');\n    const [selectedDate, handleDateChange] = useState(null);\n    const [selectedEndDate, handleEndDateChange] = useState(null);\n\n    const [travelDates, setTravelDates] = useState({0:null});\n    const [travelDatesIndex, setTravelDatesIndex] = useState(0);\n\n    const [contactCount, setContactCount] = useState(0)\n    const [locationCount, setLocationCount] = useState(0)\n\n    const handleSexChange = (event) => {\n        setSex(event.target.value);\n    };\n    const handleEthnicityChange = (event) => {\n        setEthnicity(event.target.value);\n    };\n    const handleOriginChange = (event) => {\n        setOrigin(event.target.value);\n    };\n\n    const handleProfessionChange = (event) => {\n        setProfession(event.target.value);\n    };\n\n\n    function handleTravelDateChange(date){\n        console.log(travelDatesIndex);\n        setTravelDates({...travelDates, [travelDatesIndex]:date});\n        \n        console.log(travelDates);\n        \n    };\n    \n\n    const [error, setError] = React.useState(null);\n    const [isLoaded, setIsLoaded] = React.useState(false);\n    const [countries, setCountries] = React.useState([]);\n\n\n    const recovered = (localStorage.isSick === \"not sick\") && (localStorage.tested === \"positive\")\n    const endPicker = <DatePicker\n        autoOk\n        label=\"When did your illness resolve?\"\n        clearable\n        disableFuture\n        value={selectedEndDate}\n        onChange={handleEndDateChange}\n        InputProps={{ className: classes.input }}\n        InputLabelProps={{ className: classes.label }}\n    />\n\n    React.useEffect(() => {\n        fetch(\"https://restcountries.eu/rest/v2/all?fields=name\")\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    setIsLoaded(true);\n                    setCountries(result);\n                },\n                (error) => {\n                    setIsLoaded(true);\n                    setError(error);\n                }\n            )\n    }, [])\n\n\n    const contacts = [];\n    for (let i = 0; i < contactCount; i++) {\n        contacts.push(\n            <div key={i}>\n                <TextField label=\"Email\" InputProps={{ className: classes.input }}\n                    InputLabelProps={{ className: classes.label }} />\n                <TextField label=\"Phone Number\" InputProps={{ className: classes.input }}\n                    InputLabelProps={{ className: classes.label }} />\n            </div>)\n    }\n\n    const locations = [];\n    for (let i = 0; i < locationCount; i++) {\n        locations.push(\n            <div key={i}>\n                <TextField label=\"Location\" InputProps={{ className: classes.input }}\n                    InputLabelProps={{ className: classes.label }} />\n                <DatePicker\n                    // autoOk\n                    label=\"Date\"\n                    key={i}\n                    id={`hi-${i}`}\n                    clearable\n                    disableFuture\n                    value={travelDates[i]}\n                    onOpen={()=>setTravelDatesIndex(i)}\n                    onChange={(date)=>handleTravelDateChange(date)}\n                    InputProps={{ className: classes.input }}\n                    InputLabelProps={{ className: classes.label }}\n                />\n            </div>)\n    }\n\n    const pageBottomRef = React.useRef(null)\n\n    const scrollToBottom = () => {\n        pageBottomRef.current.scrollIntoView({ behavior: \"smooth\" })\n    }\n\n    React.useEffect(scrollToBottom, [locations]);\n    React.useEffect(scrollToBottom, [contacts]);\n    let showDatePicker;\n    let nextPage;\n    if (localStorage.isSick === \"not sick\") {\n        nextPage = \"/dashboard\";\n        if (localStorage.tested === \"not tested\")\n            showDatePicker = \"hidden\";\n        else if (localStorage.tested === \"positive\") {\n            showDatePicker = \"\";\n            nextPage = \"/symptoms\"\n        }\n        else {\n            showDatePicker = \"\";\n        }\n    }\n    else {\n        showDatePicker = \"\";\n        nextPage = \"/symptoms\"\n    }\n\n    return (\n        <div className=\"CriticalQuestions\">\n            <h1 className=\"title\"> MY COVID STORY</h1>\n            <div className={classes.root}>\n                <form noValidate>\n                    <div className={showDatePicker}>\n\n                        <DatePicker\n                            autoOk\n                            label=\"When did you first start feeling sick?\"\n                            clearable\n                            disableFuture\n                            value={selectedDate}\n                            onChange={handleDateChange}\n                            InputProps={{ className: classes.input }}\n                            InputLabelProps={{ className: classes.label }}\n                        />\n                        {recovered ? endPicker : null}\n\n\n                    </div>\n                    <div className=\"demographics\">\n                        <TextField\n                            id=\"standard-number\"\n                            label=\"Age\"\n                            type=\"number\"\n                            InputProps={{ className: classes.input }}\n                            InputLabelProps={{ className: classes.label }}\n                        />\n\n                        <TextField\n                            id=\"standard-select-currency\"\n                            select\n                            label=\"Sex\"\n                            value={sex}\n                            onChange={handleSexChange}\n                            InputProps={{ className: classes.input }}\n                            InputLabelProps={{ className: classes.label }}\n                        >\n                            <MenuItem value={\"male\"}>Male</MenuItem>\n                            <MenuItem value={\"female\"}>Female</MenuItem>\n                            <MenuItem value={\"female\"}>Non Binary</MenuItem>\n                        </TextField>\n\n                        <TextField\n                            select\n                            label=\"Ethnicity\"\n                            value={ethnicity}\n                            onChange={handleEthnicityChange}\n                            InputProps={{ className: classes.input }}\n                            InputLabelProps={{ className: classes.label }}\n                        >\n                            {ethnicities.map((option) => (\n                                <MenuItem key={option.value} value={option.value}>\n                                    {option.label}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    </div>\n                    <div className=\"demographics\">\n                        <TextField\n                            select\n                            label=\"Origin\"\n                            value={origin}\n                            onChange={handleOriginChange}\n                            InputProps={{ className: classes.input }}\n                            InputLabelProps={{ className: classes.label }}\n                        >\n                            {countries.map((option) => (\n                                <MenuItem key={option.name} value={option.name}>\n                                    {option.name}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                        <TextField\n                            select\n                            label=\"Profession\"\n                            value={profession}\n                            onChange={handleProfessionChange}\n                            InputProps={{ className: classes.input }}\n                            InputLabelProps={{ className: classes.label }}\n                        >\n                            {professions.map((option) => (\n                                <MenuItem style={{ fontSize: 13 }} key={option} value={option}>\n                                    {option}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n\n                        {/* <TextField id=\"standard-required\" label=\"Profession\" InputProps={{ className: classes.input }}\n                            InputLabelProps={{\n                                className: classes.label\n                            }} /> */}\n                    </div>\n                    <div className=\"form-row\">\n                        <Fab style={{ background: \"#EA2027\" }} aria-label=\"add\" size=\"medium\" className=\"fab\" onClick={() => setContactCount(contactCount + 1)}>\n                            <AddIcon />\n                        </Fab>\n                        <p>Close Contacts</p>\n                        <Pop\n                            label={<ErrorOutlineIcon />}\n                            title={<span></span>}\n                            texts={contactText}\n                            linkIndex={contactLinkIndex}\n                            listIndex={contactListIndex} />\n\n                    </div>\n                    {contacts}\n                    <div className=\"form-row\">\n                        <Fab style={{ background: \"#EA2027\" }} aria-label=\"add\" size=\"medium\" className=\"fab\" onClick={() => setLocationCount(locationCount + 1)}>\n                            <AddIcon />\n                        </Fab>\n                        <p>Recent Travels</p>\n                        <Pop\n                            label={<ErrorOutlineIcon />}\n                            title={<span></span>}\n                            texts={travelText}\n                            linkIndex={travelLinkIndex}\n                            listIndex={travelListIndex} />\n                    </div>\n                    {locations}\n                    <div style={{ height: '20px' }} ref={pageBottomRef}></div>\n                </form>\n            </div>\n            <Fab style={{ background: \"#EA2027\" }} aria-label=\"add\" size=\"medium\" className=\"fab next-btn\" onClick={()=>props.history.push(nextPage)}>\n                <ArrowRightIcon />\n            </Fab>\n            <Fab style={{ background: \"#9206FF\" }} aria-label=\"add\" size=\"medium\" className=\"fab back-btn\" onClick={()=>props.history.push('/confirm')}>\n                <ArrowLeftIcon />\n            </Fab>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(CriticalQuestions);"]},"metadata":{},"sourceType":"module"}